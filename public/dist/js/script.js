function findWithAttr(t,e,a){for(var s=0;s<t.length;s+=1)for(var o=0;o<t[s].length;o+=1)if(t[s][o][e]===a)return{rowIndex:s,index:o};return{rowIndex:-1,index:-1}}function reloadBtn(t){var e=vueData.buttons[t.rowIndex][t.index];e.state="none",e.styleClass="none";var a=new TimelineMax,s=$(".rowIndex-"+t.rowIndex+" .buttonIndex-"+t.index+" .inner.text");a.set(s,{scale:.1}),a.to(s,1,{scale:1,onStart:function(){changeStep(e,"step1"),e.color=getRandomColor()},onComplete:function(){e.state="wait"}})}function changeStep(t,e){switch(e){case"step1":t.styleClass="step1",t.text="7";break;case"step2":t.styleClass="step2",t.text="77";break;case"step3":t.styleClass="step3",t.text="â˜…";break;case"complete":t.text="7"}}function getRandomColor(){return["red","blue","yellow"][Math.floor(3*Math.random())]}function getComboScore(){return vueData.combo>500?5:vueData.combo>400?4:vueData.combo>300?3:vueData.combo>200?2:vueData.combo>90?1.9:vueData.combo>80?1.8:vueData.combo>70?1.7:vueData.combo>60?1.6:vueData.combo>50?1.5:vueData.combo>40?1.4:vueData.combo>30?1.3:vueData.combo>20?1.2:vueData.combo>10?1.1:1}var vueData={buttons:[[{state:"wait",text:"7",styleClass:"step1",color:"red"},{state:"wait",text:"7",styleClass:"step1",color:"red"},{state:"wait",text:"7",styleClass:"step1",color:"red"},{state:"wait",text:"7",styleClass:"step1",color:"red"}],[{state:"wait",text:"7",styleClass:"step1",color:"red"},{state:"wait",text:"7",styleClass:"step1",color:"red"},{state:"wait",text:"7",styleClass:"step1",color:"red"},{state:"wait",text:"7",styleClass:"step1",color:"red"}],[{state:"wait",text:"7",styleClass:"step1",color:"red"},{state:"wait",text:"7",styleClass:"step1",color:"red"},{state:"wait",text:"7",styleClass:"step1",color:"red"},{state:"wait",text:"7",styleClass:"step1",color:"red"}],[{state:"wait",text:"7",styleClass:"step1",color:"red"},{state:"wait",text:"7",styleClass:"step1",color:"red"},{state:"wait",text:"7",styleClass:"step1",color:"red"},{state:"wait",text:"7",styleClass:"step1",color:"red"}]],score:0,combo:0,time:60},userName="",mainVue=new Vue({el:"#main",data:vueData,methods:{buttonClick:function(t,e){var a=findWithAttr(vueData.buttons,"state","select"),s=void 0,o=vueData.buttons[t][e],r={rowIndex:t,index:e};if(-1!==a.rowIndex&&-1!==a.rowIndex){if((s=vueData.buttons[a.rowIndex][a.index]).styleClass!==o.styleClass||s.color!==o.color)return s.state="wait",vueData.combo=0,!1;if("wait"!==o.state)return"select"===o.state?o.state="wait":s.state="wait",!1;var l=getComboScore();switch(o.styleClass){case"step1":changeStep(o,"step2"),vueData.combo+=1,vueData.score+=1e3*l;break;case"step2":changeStep(o,"step3"),vueData.combo+=1,vueData.score+=3e3*l;break;case"step3":changeStep(o,"complete"),reloadBtn(r),vueData.combo+=1,vueData.score+=5e3*l}reloadBtn(a)}else o.state="select"}}});$(document).ready(function(){function t(){setTimeout(function(){vueData.time-=1,vueData.time>0?t():location.reload()},1e3)}for(var e=vueData.buttons,a=0;a<e.length;a+=1)for(var s=0;s<e[a].length;s+=1)e[a][s].color=getRandomColor();t(),userName=void 0});