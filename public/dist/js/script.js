function findWithAttr(t,e,a){for(var o=0;o<t.length;o+=1)for(var s=0;s<t[o].length;s+=1)if(t[o][s][e]===a)return{rowIndex:o,index:s};return{rowIndex:-1,index:-1}}function reloadBtn(t){var e=vueData.buttons[t.rowIndex][t.index];e.state="none",e.styleClass="none";var a=new TimelineMax,o=$(".rowIndex-"+t.rowIndex+" .buttonIndex-"+t.index+" .inner.text");a.set(o,{scale:.1}),a.to(o,1,{scale:1,onStart:function(){changeStep(e,"step1"),e.color=getRandomColor(),e.state="wait"},onComplete:function(){}})}function changeStep(t,e){switch(e){case"step1":t.styleClass="step1",t.text="7";break;case"step2":t.styleClass="step2",t.text="77";break;case"step3":t.styleClass="step3",t.text="â˜…";break;case"complete":t.text="7"}}function getRandomColor(){return["red","blue","yellow"][Math.floor(3*Math.random())]}function getComboScore(){var t=1;return(t=vueData.combo/100)<1&&(t+=1),t}function autoPlay(){function t(){for(var e=vueData.buttons,a={rowIndex:Math.floor(4*Math.random()),index:Math.floor(4*Math.random())},o=e[a.rowIndex][a.index],s=!1,n=0;n<e.length;n+=1){for(var r=0;r<e[n].length;r+=1)if(o.color===e[n][r].color&&o.styleClass===e[n][r].styleClass){$(".rowIndex-"+a.rowIndex+" .buttonIndex-"+a.index).click(),$(".rowIndex-"+n+" .buttonIndex-"+r).click(),s=!0,setTimeout(function(){t()},0);break}if(s)break}}if(autoPlayIndex<4)return autoPlayIndex++,!1;t()}function comma(t){return(t=String(t)).replace(/(\d)(?=(?:\d{3})+(?!\d))/g,"$1,")}var vueData={buttons:[[{state:"wait",text:"7",styleClass:"step1",color:"red"},{state:"wait",text:"7",styleClass:"step1",color:"red"},{state:"wait",text:"7",styleClass:"step1",color:"red"},{state:"wait",text:"7",styleClass:"step1",color:"red"}],[{state:"wait",text:"7",styleClass:"step1",color:"red"},{state:"wait",text:"7",styleClass:"step1",color:"red"},{state:"wait",text:"7",styleClass:"step1",color:"red"},{state:"wait",text:"7",styleClass:"step1",color:"red"}],[{state:"wait",text:"7",styleClass:"step1",color:"red"},{state:"wait",text:"7",styleClass:"step1",color:"red"},{state:"wait",text:"7",styleClass:"step1",color:"red"},{state:"wait",text:"7",styleClass:"step1",color:"red"}],[{state:"wait",text:"7",styleClass:"step1",color:"red"},{state:"wait",text:"7",styleClass:"step1",color:"red"},{state:"wait",text:"7",styleClass:"step1",color:"red"},{state:"wait",text:"7",styleClass:"step1",color:"red"}]],score:0,combo:0,time:60},userName="",mainVue=new Vue({el:"#main",data:vueData,methods:{buttonClick:function(t,e){var a=findWithAttr(vueData.buttons,"state","select"),o=void 0,s=vueData.buttons[t][e],n={rowIndex:t,index:e};if(-1!==a.rowIndex&&-1!==a.rowIndex){if((o=vueData.buttons[a.rowIndex][a.index]).styleClass!==s.styleClass||o.color!==s.color)return o.state="wait",vueData.combo=0,!1;if("wait"!==s.state)return"select"===s.state?s.state="wait":o.state="wait",!1;var r=getComboScore();switch(s.styleClass){case"step1":changeStep(s,"step2"),vueData.combo+=1,vueData.score+=1e3*r;break;case"step2":changeStep(s,"step3"),vueData.combo+=1,vueData.score+=3e3*r;break;case"step3":changeStep(s,"complete"),reloadBtn(n),vueData.combo+=1,vueData.score+=5e3*r}reloadBtn(a)}else s.state="select"}}});$(document).ready(function(){function t(){setTimeout(function(){vueData.time>=0?(vueData.time-=1,t()):location.reload()},1e3)}!function(){var t=document.getElementById("main");t.addEventListener("touchstart",function(){$(event.target).closest(".gameButton").click()},!1),t.addEventListener("touchend",function(t){t.preventDefault()},!1),t.addEventListener("touchcancel",function(){},!1),t.addEventListener("touchmove",function(){},!1),$(".score").on("click touchstart",function(){autoPlay()})}();for(var e=vueData.buttons,a=0;a<e.length;a+=1)for(var o=0;o<e[a].length;o+=1)e[a][o].color=getRandomColor();t(),userName=void 0});var autoPlayIndex=0;